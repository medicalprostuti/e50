<!DOCTYPE html>
<html lang="bn">
  <head>
    <script>
      document.addEventListener("contextmenu", (event) =>
        event.preventDefault()
      );
      document.addEventListener("keydown", (event) => {
        if (
          (event.ctrlKey &&
            ["u", "s", "i", "j"].includes(event.key.toLowerCase())) ||
          event.key === "F12"
        ) {
          event.preventDefault();
        }
      });
    </script>

    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Online Exam</title>
    <!-- Chart.js CDN -->

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@300;400;500;600;700&display=swap");

      body {
        font-family: "Hind Siliguri", sans-serif;
        margin: 0;
        padding: 0;
        background-color: #f4f4f4;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
      }

      .container {
        font-family: "Hind Siliguri", sans-serif;
        width: 100%;
        margin: auto;
        background-color: white;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        min-height: 80vh;
      }

      .exam-content {
        padding: 20px;
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      h1 {
        color: #1b0b54;
        text-align: center;
        margin-bottom: 10px;
      }

      #timer {
        font-size: 20px;
        color: #1b0b54;
        margin-bottom: 5px;
        font-weight: normal;
        text-align: center;
      }

      #exam-info {
        font-size: 16px;
        color: black;
        margin-bottom: 20px;
        text-align: center;
      }

      #exam {
        width: 100%;
        min-height: 100px;
      }

      .chart-container {
        width: 200px;
        height: 200px;
        margin: 10px auto;
        background-color: #f9f9f9;
        border-radius: 15px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        display: none;
        padding: 10px;
      }

      .chart-container.visible {
        display: block;
      }

      .question-container {
        text-align: left;
        margin-bottom: 20px;
        display: block;
      }

      .question-label {
        font-weight: bold;
        color: #1b0b54;
        margin-bottom: 10px;
      }

      .options {
        margin-top: 10px;
      }

      .option {
        margin-bottom: 8px;
        display: flex;
        align-items: center;
        cursor: pointer;
        padding: 5px;
        border-radius: 5px;
        text-transform: uppercase;
      }

      .circle {
        width: 20px;
        height: 20px;
        border-radius: 50%;
        border: 2px solid #1b0b54;
        margin-right: 10px;
        display: flex;
        justify-content: center;
        align-items: center;
        color: #1b0b54;
        font-weight: bold;
        font-size: 18px;
      }

      .selected .circle {
        background-color: #1b0b54;
        color: white;
      }

      .correct-text {
        color: green !important;
      }

      .incorrect-text {
        color: #ff0800 !important;
      }

      .unattempted-text {
        color: orange !important;
      }

      #submitBtn {
        font-family: hind siliguri;
        padding: 15px 30px;
        background-color: #1b0b54;
        color: white;
        border: none;
        cursor: pointer;
        font-size: 18px;
        font-weight: bold;
        border-radius: 10px;
        margin-top: 20px;
        width: 200px;
        transition: background-color 0.3s ease;
      }

      #submitBtn:hover {
        background-color: #1b0b54;
      }

      .popup {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background-color: white;
        padding: 20px;
        width: 300px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
        border-radius: 10px;
        text-align: center;
        display: none;
        z-index: 1000;
        transition: transform 0.5s ease, opacity 0.5s ease;
      }

      .popup.slide-out {
        transform: translate(-50%, -100%);
        opacity: 0;
      }

      .popup-header {
        background-color: #1b0b54;
        color: white;
        padding: 10px;
        font-size: 20px;
        font-weight: bold;
        border-radius: 10px 10px 0 0;
      }

      .popup-body {
        padding: 15px;
      }

      .popup-body p {
        margin: 10px 0;
      }

      .confirm-btn {
        font-family: hind siliguri;
        background-color: #34c759;
        color: white;
        padding: 8px 15px;
        border: none;
        cursor: pointer;
        font-size: 14px;
        border-radius: 5px;
        margin: 5px;
      }

      .confirm-btn:hover {
        background-color: #34c759;
      }

      .cancel-btn {
        background-color: #ff3b30;
        color: white;
        padding: 8px 15px;
        border: none;
        cursor: pointer;
        font-size: 14px;
        border-radius: 5px;
        margin: 5px;
      }

      .cancel-btn:hover {
        background-color: #e02b21;
      }

      .explanation-dropdown {
        display: none;
        margin-top: 10px;
      }

      .explanation-dropdown.visible {
        display: block;
      }

      .explanation-btn {
        background-color: #1b0b54;
        color: white;
        padding: 8px 15px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 14px;
        font-family: "Hind Siliguri", sans-serif;
        width: 40%;
        text-align: left;
        position: relative;
      }

      .explanation-btn:hover {
        background-color: #1b0b54;
      }

      .explanation-btn::after {
        content: "▼";
        position: absolute;
        right: 10px;
        font-size: 12px;
      }

      .explanation-btn.active::after {
        content: "▲";
      }

      .explanation-content {
        display: none;
        padding: 15px;
        background-color: #f9f9f9;
        border: 1px solid #ccc;
        border-radius: 5px;
        font-size: 14px;
        color: #000000;
        text-align: left;
        max-height: 450px;
        overflow-y: auto;
        margin-top: 5px;
      }

      .explanation-content.visible {
        display: block;
      }

      .explanation-content p {
        margin: 0 0 10px 0;
      }

      .explanation-content ul {
        margin: 0;
        padding-left: 20px;
      }

      .explanation-content li {
        margin-bottom: 5px;
      }

      .explanation-content strong {
        color: #1b0b54;
      }

      .explanation-label {
        font-weight: bold;
        color: #1b0b54;
        margin-bottom: 10px;
        display: block;
      }

      .locked .option {
        pointer-events: none;
        cursor: default;
      }

      .locked .option.selected {
        pointer-events: none;
        cursor: default;
      }
    </style>
  </head>

  <body>
    <div class="container" id="examContainer">
      <div class="exam-content">
        <h1>ইংরেজী অনুশীলন</h1>
        <div id="timer"></div>
        <div id="exam-info"></div>
        <div class="chart-container">
          <canvas id="scoreChart"></canvas>
        </div>
        <div id="exam">
          <!-- Questions will be generated dynamically -->
        </div>
        <button id="submitBtn">সাবমিট</button>
      </div>
    </div>

    <div class="popup" id="scorePopup">
      <div class="popup-header">তোমার স্কোর</div>
      <div class="popup-body">
        <p><strong>মোট প্রশ্ন:</strong> <span id="totalQuestions"></span></p>
        <p>
          <strong>উত্তর দিয়েছো:</strong>
          <span style="color: #000000" id="answered"></span>
        </p>
        <p>
          <strong>সঠিক উত্তর:</strong>
          <span style="color: #0ab853" id="correctAnswers"></span>
        </p>
        <p>
          <strong>ভুল উত্তর:</strong>
          <span style="color: #f81010" id="wrongAnswers"></span>
        </p>
        <p>
          <strong>অনুত্তরিত:</strong>
          <span style="color: #ffc801" id="unanswered"></span>
        </p>
        <p><strong>তোমার চূড়ান্ত স্কোর:</strong></p>
        <h2 style="color: #1b0b54"><span id="finalScore"></span></h2>
        <form id="scoreForm" action="https://formspree.io/f/xpby" method="POST">
          <input type="hidden" name="userID" id="formUserID" />
          <input type="hidden" name="finalScore" id="formFinalScore" />
          <input type="hidden" name="correctAnswers" id="formCorrectAnswers" />
          <input type="hidden" name="wrongAnswers" id="formWrongAnswers" />
          <input type="hidden" name="unanswered" id="formUnanswered" />
          <button
            type="submit"
            class="confirm-btn"
            style="background-color: #1b0b54"
          >
            <b>ওকে</b>
          </button>
        </form>
      </div>
    </div>

    <div class="popup" id="confirmPopup">
      <div class="popup-header">কনফার্ম করো</div>
      <div class="popup-body">
        <p>
          ভালো করে দেখে নাও! <br />
          পরীক্ষা শেষ করতে চাও তো?
        </p>
        <button class="confirm-btn" onclick="confirmSubmit()">
          <b>হ্যাঁ</b>
        </button>
        <button class="cancel-btn" onclick="cancelSubmit()"><b>না</b></button>
      </div>
    </div>

    <script>
      let chartInstance = null;

      document.addEventListener("DOMContentLoaded", function () {
        console.log("DOM fully loaded and parsed");
        const examContainer = document.getElementById("examContainer");
        if (!examContainer) {
          console.error("Exam container not found!");
          return;
        }
        try {
          sessionStorage.setItem("isLoggedIn", "true");
          sessionStorage.setItem("userID", "anonymous");
          console.log(
            "Session storage set: isLoggedIn = true, userID = anonymous"
          );
        } catch (e) {
          console.error("Session storage error:", e);
        }
        examContainer.style.display = "block";
        console.log("Exam container displayed");
        startTimer();
        generateQuestions();

        window.addEventListener("beforeunload", function (event) {
          if (
            examContainer.style.display === "block" &&
            sessionStorage.getItem("isLoggedIn") === "true"
          ) {
            autoSubmitScore();
          }
        });
      });

      const questions = [
        {
          id: 1,
          question:
            "Which of the following pairs contains correct translation of that English proverb?",
          options: {
            a: "To carry coal to Newcastle: তেলা মাথায় তেল দেওয়া।",
            b: "To add fuel to the fire: আগুনে ঘি ঢালা।",
            c: "Strike the iron while it is hot: ফুল তুলে নেওয়া।",
            d: "Practice makes a man perfect: সিঁদুরে মেঘ দেখলে ভয় পায়।",
          },
          correct: "a",
          explanation:
            "<p>প্রবাদগুলো ইংরেজি ও বাংলা ভাষার ভিন্ন সংস্কৃতিতে একইরকম অর্থ প্রকাশ করে।</p><br><ul><li><strong>(A) To carry coal to Newcastle: তেলা মাথায় তেল দেওয়া।</strong> এই জুটিটি সঠিক। 'To carry coal to Newcastle' প্রবাদটির অর্থ হলো এমন কাজ করা যা অপ্রয়োজনীয় বা যার কোনো বাড়তি মূল্য নেই, কারণ জিনিসটি ইতিমধ্যেই প্রচুর পরিমাণে আছে। এর বাংলা প্রতিশব্দ হলো 'তেলা মাথায় তেল দেওয়া' - যার অর্থ হলো ধনী বা সুবিধাভোগী ব্যক্তিকে আরও সুবিধা দেওয়া, যা আসলে অপ্রয়োজনীয়।</li><li><strong>(B) To add fuel to the fire: আগুনে ঘি ঢালা।</strong> এই জুটিটি সঠিক নয়। 'To add fuel to the fire' এর অর্থ হলো কোনো খারাপ পরিস্থিতিকে আরও খারাপ করে তোলা বা উত্তেজনা বাড়ানো। এর সঠিক বাংলা প্রতিশব্দ হলো 'আগুনে ঘি ঢালা'। কিন্তু অপশনে এটি ভুল দেওয়া হয়েছে।</li><li><strong>(C) Strike the iron while it is hot: ফুল তুলে নেওয়া।</strong> এই জুটিটি সঠিক নয়। 'Strike the iron while it is hot' এর অর্থ হলো যখন অনুকূল পরিস্থিতি থাকে তখনই কাজ সেরে নেওয়া। এর বাংলা প্রতিশব্দ হলো 'ঝোপ বুঝে কোপ মারা' বা 'সময় থাকতে কাজ হাসিল করা'। 'ফুল তুলে নেওয়া' সম্পূর্ণ ভিন্ন অর্থ প্রকাশ করে।</li><li><strong>(D) Practice makes a man perfect: সিঁদুরে মেঘ দেখলে ভয় পায়।</strong> এই জুটিটি সঠিক নয়। 'Practice makes a man perfect' এর অর্থ হলো অনুশীলন মানুষকে নিখুঁত করে তোলে। এর বাংলা প্রতিশব্দ হলো 'যতনে রতন মেলে' বা 'অভ্যাসে সব কিছু সম্ভব'। 'সিঁদুরে মেঘ দেখলে ভয় পায়' অন্য একটি প্রবাদ, যার অর্থ বিপদ আসার লক্ষণ দেখলে ভয় পাওয়া।</li></ul>",
        },
        {
          id: 2,
          question:
            "Meaning of the proverb “Do not put the cart before the horse”",
          options: {
            a: "Put the horse behind the cart",
            b: "Do not follow any order when you do things",
            c: "A cart cannot move without a horse",
            d: "Do things in proper order",
          },
          correct: "d",
          explanation:
            "<p>'Do not put the cart before the horse' প্রবাদটির মূল অর্থ হলো কাজগুলো সঠিক ক্রমে করা। একটি ঘোড়ার গাড়ি টানার জন্য ঘোড়াকে গাড়ির সামনেই থাকতে হয়, পেছনে থাকলে গাড়ি চলতে পারে না। ঠিক তেমনি, জীবনের কাজগুলোও সঠিক ধারাবাহিকতায় করতে হয়, অন্যথায় তা সফল হয় না বা সমস্যা তৈরি হয়।</p><br><ul><li><strong>(A) Put the horse behind the cart:</strong> এটি আক্ষরিক অনুবাদ এবং প্রবাদের আসল অর্থ প্রকাশ করে না।</li><li><strong>(B) Do not follow any order when you do things:</strong> এটি প্রবাদটির অর্থের সম্পূর্ণ বিপরীত। প্রবাদটি সঠিক ক্রম অনুসরণ করার পরামর্শ দেয়।</li><li><strong>(C) A cart cannot move without a horse:</strong> এটি আক্ষরিকভাবে সত্য হলেও, প্রবাদের মূল অর্থ অর্থাৎ কাজের সঠিক ক্রমকে বোঝায় না।</li><li><strong>(D) Do things in proper order:</strong> এটি প্রবাদটির সঠিক অর্থ প্রকাশ করে। এটি বোঝায় যে, প্রতিটি কাজ তার সঠিক সময়ে এবং সঠিক পদ্ধতিতে করা উচিত।</li></ul>",
        },
        {
          id: 3,
          question: "Meaning of “A stitch in time saves nine”",
          options: {
            a: "savings lives",
            b: "timely action",
            c: "time tailoring",
            d: "saving time",
          },
          correct: "b",
          explanation:
            "<p>'A stitch in time saves nine' প্রবাদটির অর্থ হলো, যখন কোনো ছোট সমস্যা দেখা দেয়, তখন দ্রুত পদক্ষেপ নিলে সেই সমস্যাটি বড় আকার ধারণ করা থেকে রোধ করা যায় এবং ভবিষ্যতে আরও বেশি প্রচেষ্টা বা ক্ষতির হাত থেকে বাঁচা যায়। এখানে 'stitch' বলতে কাপড়ের ছেঁড়া অংশ সেলাই করাকে বোঝানো হয়েছে, যেখানে একটি ছোট সেলাই পরে নয়টি সেলাইয়ের কাজ বাঁচিয়ে দিতে পারে।</p><br><ul><li><strong>(A) Savings lives:</strong> এটি প্রবাদের অর্থের সাথে সম্পূর্ণ সম্পর্কহীন।</li><li><strong>(B) Timely action (সময়োপযোগী পদক্ষেপ):</strong> এটি প্রবাদটির মূল অর্থ প্রকাশ করে। অর্থাৎ, সঠিক সময়ে একটি ছোট পদক্ষেপ নিলে পরবর্তীতে বড় ঝামেলা এড়ানো যায়।</li><li><strong>(C) Time tailoring:</strong> এটি আক্ষরিক এবং প্রবাদের আসল অর্থ প্রকাশ করে না।</li><li><strong>(D) Saving time:</strong> যদিও সময় বাঁচানোর একটি উপাদান এখানে আছে, তবে মূল জোরটি হলো 'timely action' বা সঠিক সময়ে পদক্ষেপ নেওয়া, যা পরবর্তীতে আরও বেশি সময়, শ্রম বা সম্পদ বাঁচায়।</li></ul>",
        },
        {
          id: 4,
          question: "Conclusion from “All that glitters is not gold”",
          options: {
            a: "Non-metals also glitter",
            b: "Only gold glitters",
            c: "Not all metals glitter",
            d: "Glittering things may be deceptive",
          },
          correct: "d",
          explanation:
            "<p>'All that glitters is not gold' প্রবাদটির অর্থ হলো, যা কিছু দেখতে চকচকে বা আকর্ষণীয়, তা মূল্যবান বা সত্য নাও হতে পারে। বাহ্যিক সৌন্দর্য বা চাকচিক্য প্রায়শই প্রতারণামূলক হতে পারে।</p><br><ul><li><strong>(A) Non-metals also glitter:</strong> এটি আক্ষরিকভাবে সত্য হতে পারে, কিন্তু প্রবাদের মূল দার্শনিক বার্তা প্রকাশ করে না।</li><li><strong>(B) Only gold glitters:</strong> এটি ভুল তথ্য, কারণ অন্য অনেক ধাতু বা বস্তুও চকচক করে।</li><li><strong>(C) Not all metals glitter:</strong> এটিও প্রবাদের মূল বার্তার থেকে দূরে। প্রবাদটি চকচকে বস্তুর প্রকৃতি নিয়ে নয়, বরং বাহ্যিক প্রদর্শনের মাধ্যমে প্রতারণা নিয়ে।</li><li><strong>(D) Glittering things may be deceptive (চকচকে জিনিস প্রতারণামূলক হতে পারে):</strong> এটি প্রবাদটির সঠিক অর্থ প্রকাশ করে। অর্থাৎ, কোনো কিছুর বাহ্যিক রূপ দেখে তার মূল্য বা গুণ বিচার করা উচিত নয়, কারণ তা প্রায়শই ভুল প্রমাণিত হতে পারে।</li></ul>",
        },
        {
          id: 5,
          question: "Correct proverb",
          options: {
            a: "Silence is capital",
            b: "Silence is value",
            c: "Silence is golden",
            d: "Silence is rewarding",
          },
          correct: "c",
          explanation:
            "<p>'Silence is golden' হলো একটি বহুল প্রচলিত ইংরেজি প্রবাদ।</p><br><ul><li><strong>(A) Silence is capital:</strong> এটি কোনো প্রচলিত প্রবাদ নয়।</li><li><strong>(B) Silence is value:</strong> এটিও কোনো প্রচলিত প্রবাদ নয়।</li><li><strong>(C) Silence is golden:</strong> এটি একটি সঠিক প্রবাদ। এর অর্থ হলো নীরবতা অনেক সময় কথা বলার চেয়েও বেশি মূল্যবান বা উপকারী। বিশেষ করে যখন কথা বললে পরিস্থিতি আরও খারাপ হতে পারে অথবা নীরবতা অনেক সমস্যার সমাধান করে। এর বাংলা প্রতিশব্দ 'নীরবতাই সোনা'।</li><li><strong>(D) Silence is rewarding:</strong> এটিও কোনো প্রচলিত প্রবাদ নয়, যদিও নীরবতার ফলস্বরূপ ভালো কিছু হতে পারে।</li></ul>",
        },
        {
          id: 6,
          question: "Meaning of “Handsome is what handsome does”",
          options: {
            a: "If you believe you will be able to do something, you will be able to do it",
            b: "If you are determined to do something, you will find a way",
            c: "Handsome people do handsome things",
            d: "Behaviour is more important than appearance",
          },
          correct: "d",
          explanation:
            "<p>'Handsome is what handsome does' প্রবাদটির অর্থ হলো একজন ব্যক্তির বাহ্যিক রূপ বা সৌন্দর্য ততটা গুরুত্বপূর্ণ নয় যতটা তার কর্ম, আচরণ বা চরিত্র। অর্থাৎ, একজন ব্যক্তির গুণাগুণ তার চেহারার চেয়ে বেশি মূল্যবান।</p><br><ul><li><strong>(A) If you believe you will be able to do something, you will be able to do it:</strong> এটি আত্মবিশ্বাস এবং সক্ষমতা সম্পর্কিত, যা এই প্রবাদের অর্থের সাথে সামঞ্জস্যপূর্ণ নয়।</li><li><strong>(B) If you are determined to do something, you will find a way:</strong> এটি দৃঢ়সংকল্প এবং উপায় খুঁজে বের করা সম্পর্কিত, যা এই প্রবাদের অর্থের সাথে সামঞ্জস্যপূর্ণ নয়।</li><li><strong>(C) Handsome people do handsome things:</strong> এটি আক্ষরিকভাবে ভুল ব্যাখ্যা এবং প্রবাদের মূল বার্তা প্রকাশ করে না।</li><li><strong>(D) Behaviour is more important than appearance (আচরণ চেহারার চেয়ে বেশি গুরুত্বপূর্ণ):</strong> এটি প্রবাদটির সঠিক অর্থ প্রকাশ করে। এটি বোঝায় যে একজন ব্যক্তির বাহ্যিক সৌন্দর্য নয়, বরং তার কার্যকলাপ এবং নৈতিকতাই তাকে প্রকৃত সুন্দর করে তোলে।</li></ul>",
        },
        {
          id: 7,
          question: "Meaning of “A bird in hand is worth two in the bush”",
          options: {
            a: "Take what you have got readily available rather than expecting better in the future",
            b: "The seen is better than the unseen",
            c: "Promises are better than actuals",
            d: "It is no good beating about the bush",
          },
          correct: "a",
          explanation:
            "<p>'A bird in hand is worth two in the bush' প্রবাদটির অর্থ হলো, যা আপনার কাছে আছে বা যা নিশ্চিতভাবে পাওয়া যায়, তা পাওয়ার অনিশ্চিত আশায় বৃহত্তর বা আরও ভালো কিছুর জন্য অপেক্ষা করার চেয়ে বেশি মূল্যবান। অর্থাৎ, নিশ্চিত ছোট লাভ অনিশ্চিত বড় লাভের চেয়ে ভালো।</p><br><ul><li><strong>(A) Take what you have got readily available rather than expecting better in the future (ভবিষ্যতে আরও ভালো কিছুর আশা করার চেয়ে যা আপনার কাছে সহজেই উপলব্ধ আছে তা গ্রহণ করুন):</strong> এটি প্রবাদটির সঠিক অর্থ প্রকাশ করে। এটি বোঝায় যে, নিশ্চিত সুযোগ বা সম্পদ ছেড়ে অনিশ্চিত বা ভবিষ্যতে বড় লাভের আশায় দৌড়ানো উচিত নয়।</li><li><strong>(B) The seen is better than the unseen:</strong> এটি প্রবাদটির অর্থ বোঝাতে পারে, কিন্তু 'readily available' বা 'নিশ্চিত লাভ' এর ধারণাটিকে ততটা সুনির্দিষ্টভাবে প্রকাশ করে না।</li><li><strong>(C) Promises are better than actuals:</strong> এটি ভুল। প্রবাদটি বাস্তবতার উপর জোর দেয়, প্রতিশ্রুতির উপর নয়।</li><li><strong>(D) It is no good beating about the bush:</strong> 'Beating about the bush' মানে হলো সরাসরি কথা না বলে ঘুরিয়ে কথা বলা। এটি প্রবাদের অর্থের সাথে সম্পর্কহীন।</li></ul>",
        },
        {
          id: 8,
          question:
            "Equivalent Bangla saying for “To count the chickens before they are hatched”",
          options: {
            a: "চোর পালালে বুদ্ধি বাড়ে",
            b: "আগে দর্শনধারী, পরে গুনবিচারী",
            c: "ভাবিয়া করিও কাজ করিয়া ভাবিও না",
            d: "গাছে কাঁঠাল গোঁফে তেল",
          },
          correct: "d",
          explanation:
            "<p>'To count the chickens before they are hatched' প্রবাদটির অর্থ হলো, কোনো ফলাফল আসার আগেই তার সাফল্যের উপর ভিত্তি করে পরিকল্পনা করা বা নিশ্চিত ধরে নেওয়া। অর্থাৎ, কোনো কাজ সম্পন্ন হওয়ার আগেই তার ফল ভোগ করার চিন্তা করা।</p><br><ul><li><strong>(A) চোর পালালে বুদ্ধি বাড়ে:</strong> এর অর্থ হলো বিপদ চলে যাওয়ার পর তা প্রতিরোধের বুদ্ধি আসে। এটি ভিন্ন অর্থ প্রকাশ করে।</li><li><strong>(B) আগে দর্শনধারী, পরে গুনবিচারী:</strong> এর অর্থ হলো আগে বাহ্যিক রূপ দেখা হয়, পরে গুণ বিচার করা হয়। এটিও ভিন্ন অর্থ প্রকাশ করে।</li><li><strong>(C) ভাবিয়া করিও কাজ করিয়া ভাবিও না:</strong> এর অর্থ হলো কাজ করার আগে ভালোভাবে চিন্তা করা উচিত, কাজ করার পর অনুশোচনা করা উচিত নয়। এটিও ভিন্ন অর্থ প্রকাশ করে।</li><li><strong>(D) গাছে কাঁঠাল গোঁফে তেল:</strong> এটি এই প্রবাদের সঠিক বাংলা প্রতিশব্দ। এর অর্থ হলো কোনো কিছুর ফল আসার আগেই তার ভোগ করার জন্য প্রস্তুতি নেওয়া বা আকাঙ্ক্ষা করা, যা নিশ্চিত নয়। যেমন গাছে কাঁঠাল পাকার আগেই গোঁফে তেল মেখে কাঁঠাল খাওয়ার প্রস্তুতি নেওয়া।</li></ul>",
        },
        {
          id: 9,
          question:
            "Equivalent Bangla saying for “Better an empty house than a bad tenant”",
          options: {
            a: "দাঁত থাকতে দাঁতের মর্যাদা বোঝা যায় না",
            b: "দুষ্টু গরুর চেয়ে শূন্য গোয়াল ভাল",
            c: "তেল মাথায় তেল দেওয়া",
            d: "চেনা বামুনের পৈতের দরকার হয় না",
          },
          correct: "b",
          explanation:
            "<p>'Better an empty house than a bad tenant' প্রবাদটির অর্থ হলো, কোনো খারাপ বা বিরক্তিকর ব্যক্তির সাথে সম্পর্ক রাখার চেয়ে একা থাকা বা কোনো কিছু না থাকা ভালো।</p><br><ul><li><strong>(A) দাঁত থাকতে দাঁতের মর্যাদা বোঝা যায় না:</strong> এর অর্থ হলো কোনো কিছুর গুরুত্ব তা হারানোর আগে বোঝা যায় না। এটি ভিন্ন অর্থ প্রকাশ করে।</li><li><strong>(B) দুষ্টু গরুর চেয়ে শূন্য গোয়াল ভাল:</strong> এটি এই প্রবাদের সঠিক বাংলা প্রতিশব্দ। এর অর্থ হলো একটি খারাপ বা ঝামেলা সৃষ্টিকারী জিনিসের চেয়ে কিছুই না থাকা ভালো। যেমন, দুষ্টু গরুর কারণে ক্ষতি হওয়ার চেয়ে গোয়াল শূন্য থাকা ভালো।</li><li><strong>(C) তেল মাথায় তেল দেওয়া:</strong> এর অর্থ হলো অপ্রয়োজনীয়ভাবে সুবিধা দেওয়া। এটি ভিন্ন অর্থ প্রকাশ করে।</li><li><strong>(D) চেনা বামুনের পৈতের দরকার হয় না:</strong> এর অর্থ হলো পরিচিত বা বিশ্বাসযোগ্য ব্যক্তির জন্য প্রমাণপত্রের প্রয়োজন হয় না। এটিও ভিন্ন অর্থ প্রকাশ করে।</li></ul>",
        },
        {
          id: 10,
          question: "Completion of “A bird in hand is worth”",
          options: {
            a: "a thousand rupee",
            b: "two in the bush",
            c: "nothing",
            d: "anything",
          },
          correct: "b",
          explanation:
            "<p>'A bird in hand is worth two in the bush' হলো একটি সম্পূর্ণ এবং প্রচলিত প্রবাদ।</p><br><ul><li><strong>(A) A thousand rupee:</strong> এটি প্রবাদের অংশ নয় এবং ভুল।</li><li><strong>(B) Two in the bush:</strong> এটি এই প্রবাদের সঠিক এবং সম্পূর্ণ অংশ। এর অর্থ হলো যা আপনার হাতে আছে বা নিশ্চিতভাবে পাওয়া যায়, তা পাওয়ার অনিশ্চিত আশায় বৃহত্তর বা আরও ভালো কিছুর জন্য অপেক্ষা করার চেয়ে বেশি মূল্যবান।</li><li><strong>(C) Nothing:</strong> এটি প্রবাদের অংশ নয় এবং ভুল।</li><li><strong>(D) Anything:</strong> এটি প্রবাদের অংশ নয় এবং ভুল।</li></ul>",
        },
        {
          id: 11,
          question: "Correct proverb",
          options: {
            a: "Fools rush in where angels fear to tread",
            b: "Fools rush in where an angel fears to tread",
            c: "A fool rushes in where an angel fears to tread",
            d: "Fools rush in where the angels fear to tread",
          },
          correct: "a",
          explanation:
            "<p>'Fools rush in where angels fear to tread' হলো একটি সুপরিচিত এবং প্রামাণ্য ইংরেজি প্রবাদ। এর অর্থ হলো, জ্ঞানী বা বিচক্ষণ ব্যক্তিরা যেখানে সাবধানে পা ফেলেন বা প্রবেশ করতে দ্বিধা করেন, বোকারা সেখানে না বুঝেই ঝাঁপিয়ে পড়ে।</p><br><ul><li><strong>(A) Fools rush in where angels fear to tread:</strong> এটি প্রবাদটির সঠিক রূপ।</li><li><strong>(B) Fools rush in where an angel fears to tread:</strong> 'an angel' এর ব্যবহার এখানে ব্যাকরণগতভাবে ভুল নয়, কিন্তু 'angels' (বহুবচন) হলো এই প্রবাদের সবচেয়ে প্রচলিত এবং প্রামাণ্য রূপ।</li><li><strong>(C) A fool rushes in where an angel fears to tread:</strong> 'A fool' এর ব্যবহার এখানে প্রবাদের প্রচলিত রূপ থেকে ভিন্ন। সাধারণত 'Fools' (বোকারা) বহুবচন হিসেবে ব্যবহৃত হয়।</li><li><strong>(D) Fools rush in where the angels fear to tread:</strong> 'the angels' এর ব্যবহার ব্যাকরণগতভাবে ভুল নয়, তবে প্রবাদের সবচেয়ে প্রচলিত রূপটি 'angels' (নির্ধারক আর্টিকেল ছাড়া) ব্যবহার করে।</li></ul><p>সুতরাং, সবচেয়ে প্রামাণ্য এবং প্রচলিত রূপটি হলো 'Fools rush in where angels fear to tread'</p>",
        },
        {
          id: 12,
          question:
            "Identify the underlined phrase in “Slow and steady wins the race”",
          options: {
            a: "Adverb",
            b: "Adjective",
            c: "Noun",
            d: "Preposition",
          },
          correct: "b",
          explanation:
            "<p>“Slow and steady” এই প্রবাদে 'slow' এবং 'steady' উভয়ই Noun (বিশেষ্য) হিসেবে ব্যবহৃত হয়েছে, যা একটি গুণবাচক বিশেষ্য হিসেবে কাজ করছে। এটি একটি প্রবাদ যেখানে দুটি Adjective কে Noun হিসেবে ব্যবহার করে একটি Abstract Quality বা গুণকে বোঝানো হচ্ছে। এই ক্ষেত্রে, 'Slow and steady' বলতে 'those who are slow and steady' বোঝায়। এটি একটি Noun Phrase (বিশেষ্য বাক্যাংশ) হিসেবে কাজ করছে যা বাক্যের Subject (কর্তা)।</p><br><ul><li><strong>(A) Adverb:</strong> 'Slowly' এবং 'steadily' হলে Adverb হতো। কিন্তু এখানে 'slow' এবং 'steady' Adjective হিসেবে ব্যবহৃত হয়েছে।</li><li><strong>(B) Adjective:</strong> এই অপশনটি দেওয়া আছে, কিন্তু এখানে Noun Phrase হিসেবে কাজ করছে। তবে, যদি বিকল্পগুলির মধ্যে Noun Phrase না থাকে এবং শুধুমাত্র Adjective অপশনটি থাকে, তাহলে 'slow' এবং 'steady' এর মূল রূপ Adjective হওয়ায় এটি কিছু ক্ষেত্রে নির্বাচিত হতে পারে যদি Noun Phrase একটি অপশন না হয়। কিন্তু এখানে Noun হিসেবেই এটি কাজ করছে। <strong>যদি Noun অপশনটি থাকে তবে Noun-ই সঠিক হবে। প্রদত্ত উত্তরে 'Adjective' বলা হয়েছে, যা ভুল।</strong></li><li><strong>(C) Noun:</strong> এখানে 'Slow' এবং 'Steady' উভয়ই Noun হিসেবে কাজ করছে কারণ তারা একটি Collective Subject বা সম্মিলিত কর্তা হিসেবে ব্যবহৃত হচ্ছে এবং 'wins' (ক্রিয়া) এর কর্তা। উদাহরণস্বরূপ, 'The good win' (ভালোরা জেতে) - এখানে 'good' Noun হিসেবে ব্যবহৃত।</li><li><strong>(D) Preposition:</strong> এটি কোনো Preposition নয়।</li></ul><p><strong>পর্যালোচনা:</strong> 'Slow and steady wins the race' প্রবাদে 'Slow and steady' একটি Noun Phrase (বিশেষ্য বাক্যাংশ) হিসেবে কাজ করে, যেখানে 'slow' এবং 'steady' গুণবাচক বিশেষ্য হিসেবে ব্যবহৃত হয়েছে। যদি প্রদত্ত অপশনগুলোতে 'Noun Phrase' না থাকে এবং শুধুমাত্র 'Noun' থাকে, তবে 'Noun' একটি সম্ভাব্য সঠিক উত্তর। কিন্তু 'Adjective' অপশনটি ভুল, কারণ তারা এখানে বাক্যের কর্তা হিসেবে ব্যবহৃত হচ্ছে, যা Noun এর কাজ। তাই প্রদত্ত উত্তর (b) Adjective ভুল। সঠিক উত্তর হবে (c) Noun, কারণ প্রবাদে 'slow' এবং 'steady' দুটি গুণবাচক বিশেষ্য হিসেবে সম্মিলিতভাবে Subject এর কাজ করছে।</p>",
        },
        {
          id: 13,
          question: "Shakespeare’s view on “sweet are the uses of adversity”",
          options: {
            a: "are",
            b: "is",
            c: "has",
            d: "have",
          },
          correct: "a",
          explanation:
            "<p>'Sweet are the uses of adversity' হলো উইলিয়াম শেক্সপিয়রের 'As You Like It' নাটক থেকে নেওয়া একটি বিখ্যাত উক্তি। এই বাক্যে Subject (কর্তা) হলো 'the uses of adversity' (দুর্ভোগের ব্যবহার)। এখানে 'uses' একটি Plural Noun (বহুবচন বিশেষ্য), তাই এর সাথে Plural Verb (বহুবচন ক্রিয়া) ব্যবহৃত হবে।</p><br><ul><li><strong>(A) Are:</strong> 'uses' (বহুবচন) এর সাথে 'are' (বহুবচন ক্রিয়া) সঠিক। এটি বাক্যের মূল গঠন এবং অর্থ বজায় রাখে।</li><li><strong>(B) Is:</strong> 'is' (একবচন ক্রিয়া) 'uses' এর সাথে ব্যবহার করা যাবে না কারণ 'uses' বহুবচন।</li><li><strong>(C) Has:</strong> 'has' (একবচন) অধিকার বা সম্পন্ন অবস্থা বোঝাতে ব্যবহৃত হয়, যা এখানে ব্যাকরণগত বা অর্থগতভাবে উপযুক্ত নয়।</li><li><strong>(D) Have:</strong> 'have' (বহুবচন) অধিকার বা সম্পন্ন অবস্থা বোঝাতে ব্যবহৃত হয়, কিন্তু 'uses' এর সাথে 'have' এই বাক্যে উপযুক্ত নয়।</li></ul><p>সুতরাং, 'Sweet are the uses of adversity' বাক্যটির সঠিক এবং প্রামাণ্য রূপ হলো 'are' ব্যবহার করে।</p>",
        },
      ];

      const totalQuestions = questions.length;
      let timeLeft = Math.floor(totalQuestions / 2) * 60;
      const timerElement = document.getElementById("timer");
      let timerInterval;

      function updateTimer() {
        const minutes = Math.floor(timeLeft / 60);
        const seconds = timeLeft % 60;
        timerElement.innerText = `${toBengaliNumber(
          minutes
        )} মিনিট ${toBengaliNumber(seconds)} সেকেন্ড`;

        if (timeLeft > 0) {
          timeLeft--;
        } else {
          stopTimer();
          confirmSubmit();
        }
      }

      function startTimer() {
        console.log("Starting timer");
        timerElement.innerText = `${toBengaliNumber(
          Math.floor(timeLeft / 60)
        )} মিনিট ${toBengaliNumber(timeLeft % 60)} সেকেন্ড`;
        timerInterval = setInterval(updateTimer, 1000);
      }

      function stopTimer() {
        clearInterval(timerInterval);
        console.log("Timer stopped");
      }

      function toBengaliNumber(num) {
        const bengaliDigits = [
          "০",
          "১",
          "২",
          "৩",
          "৪",
          "৫",
          "৬",
          "৭",
          "৮",
          "৯",
        ];
        let numStr = num.toString();

        let isNegative = num < 0;
        if (isNegative) {
          numStr = numStr.substring(1);
        }

        if (numStr.includes(".")) {
          let [integerPart, decimalPart] = numStr.split(".");
          let integerBengali = integerPart
            .split("")
            .map((digit) => bengaliDigits[parseInt(digit)])
            .join("");
          let decimalBengali = decimalPart
            .split("")
            .map((digit) => bengaliDigits[parseInt(digit)])
            .join("");
          return (
            (isNegative ? "−" : "") + integerBengali + "." + decimalBengali
          );
        } else {
          let integerBengali = numStr
            .split("")
            .map((digit) => bengaliDigits[parseInt(digit)])
            .join("");
          return (isNegative ? "−" : "") + integerBengali;
        }
      }

      function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
      }

      function generateQuestions() {
        console.log("Generating questions");
        const examContainer = document.querySelector("#exam");
        if (!examContainer) {
          console.error("Exam container (#exam) not found!");
          return;
        }
        examContainer.innerHTML = "";
        console.log("Questions array:", questions);
        const shuffledQuestions = shuffleArray([...questions]);
        shuffledQuestions.forEach((question, index) => {
          console.log(`Generating question ${index + 1}:`, question);
          const questionDiv = document.createElement("div");
          questionDiv.classList.add("question-container");
          questionDiv.setAttribute("data-question", question.id);
          questionDiv.setAttribute("data-correct", question.correct);

          let optionsHTML = "";
          for (let option in question.options) {
            optionsHTML += `
                                                                          <label class="option" data-option="${option}">
                                                                            <div class="circle">${option}</div>
                                                                            <span class="option-text">${question.options[option]}</span>
                                                                          </label>
                                                                        `;
          }

          const explanationHTML = question.explanation
            ? `<div class="explanation-dropdown">
                                                                             <button class="explanation-btn">ব্যাখ্যা দেখো</button>
                                                                             <div class="explanation-content">
                                                                               <div class="explanation-label">ব্যাখ্যা:</div>
                                                                               ${question.explanation}
                                                                             </div>
                                                                           </div>`
            : "";

          questionDiv.innerHTML = `
                                                                        <p class="question-label">${
                                                                          index +
                                                                          1
                                                                        }. ${
            question.question
          }</p>
                                                                        <div class="options">
                                                                          ${optionsHTML}
                                                                        </div>
                                                                        ${explanationHTML}
                                                                      `;
          examContainer.appendChild(questionDiv);
          console.log(`Appended question ${index + 1} to exam container`);
        });

        const questionContainers = document.querySelectorAll(
          ".question-container"
        );
        console.log(`Found ${questionContainers.length} question containers`);
        questionContainers.forEach((container, idx) => {
          console.log(`Setting question ${idx + 1} to visible`);
          container.style.display = "block";
        });

        document.querySelectorAll(".option").forEach((option) => {
          option.addEventListener(
            "click",
            function (e) {
              e.preventDefault();
              const parent = this.closest(".question-container");
              if (parent.classList.contains("locked")) return;
              parent.classList.add("locked");
              parent.querySelectorAll(".option").forEach((el) => {
                if (el !== this) {
                  el.style.pointerEvents = "none";
                  el.style.cursor = "default";
                }
                el.classList.remove("selected");
              });
              this.classList.add("selected");
              console.log(
                `Option selected for question ${parent.getAttribute(
                  "data-question"
                )}: ${this.getAttribute("data-option")}`
              );
            },
            { once: true }
          );
        });

        document.querySelectorAll(".explanation-btn").forEach((btn) => {
          btn.addEventListener("click", function () {
            const content = this.nextElementSibling;
            content.classList.toggle("visible");
            this.classList.toggle("active");
            console.log("Toggled explanation visibility");
          });
        });

        const examInfo = document.getElementById("exam-info");
        if (examInfo) {
          examInfo.innerText = `পূর্ণ নম্বরঃ ${toBengaliNumber(
            totalQuestions
          )}`;
          console.log("Exam info updated");
        } else {
          console.error("Exam info element not found!");
        }
      }

      function initializeChart() {
        console.log("Initializing chart");
        const ctx = document.getElementById("scoreChart").getContext("2d");
        chartInstance = new Chart(ctx, {
          type: "pie",
          data: {
            labels: ["ঠিক উত্তর", "ভুল উত্তর", "অনুত্তরিত"],
            datasets: [
              {
                data: [0, 0, 0],
                backgroundColor: ["#34c759", "#ff3b30", "#007aff"],
                borderColor: "#fff",
                borderWidth: 2,
                hoverOffset: 10,
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            cutout: "10%",
            layout: {
              padding: 10,
            },
            plugins: {
              legend: {
                position: "bottom",
                labels: {
                  font: {
                    family: '"Hind Siliguri", sans-serif',
                    size: 13,
                    weight: "bold",
                  },
                  color: "#333",
                  padding: 12,
                  boxWidth: 14,
                  generateLabels: (chart) => {
                    const data = chart.data;
                    return data.labels.map((label, i) => ({
                      text: label,
                      font: {
                        family: '"Hind Siliguri", sans-serif',
                      },
                      fillStyle: data.datasets[0].backgroundColor[i],
                      hidden: !chart.getDataVisibility(i),
                      index: i,
                    }));
                  },
                },
              },
              tooltip: {
                backgroundColor: "rgba(0, 0, 0, 0.9)",
                cornerRadius: 6,
                titleFont: {
                  family: '"Hind Siliguri", sans-serif',
                  size: 14,
                  weight: "bold",
                },
                bodyFont: {
                  family: '"Hind Siliguri", sans-serif',
                  size: 13,
                },
                padding: 10,
                boxPadding: 5,
              },
            },
            animation: {
              animateScale: true,
              animateRotate: true,
              duration: 1000,
              easing: "easeOutQuart",
            },
            elements: {
              arc: {
                borderRadius: 8,
              },
            },
            onClick: (e, elements) => {
              if (elements.length > 0) {
                const index = elements[0].index;
                const filter = ["correct", "wrong", "unanswered"][index];
                filterQuestions(filter);
              } else {
                filterQuestions("all");
              }
            },
          },
        });
        console.log("Chart initialized");
      }

      function filterQuestions(type) {
        console.log(`Filtering questions by type: ${type}`);
        document.querySelectorAll(".question-container").forEach((question) => {
          const status = question.getAttribute("data-status");
          if (type === "all" || status === type) {
            question.style.display = "block";
          } else {
            question.style.display = "none";
          }
        });
      }

      function showConfirmPopup() {
        console.log("Showing confirm popup");
        document.getElementById("confirmPopup").style.display = "block";
      }

      function autoSubmitScore() {
        console.log("Auto-submitting score");
        stopTimer();
        let score = 0,
          total = questions.length,
          answered = 0,
          correct = 0,
          wrong = 0,
          unanswered = 0;

        document.querySelectorAll(".question-container").forEach((question) => {
          let correctAnswer = question.getAttribute("data-correct");
          let selectedOption = question.querySelector(".option.selected");

          if (selectedOption) {
            answered++;
            let chosenAnswer = selectedOption.getAttribute("data-option");
            if (chosenAnswer === correctAnswer) {
              score += 1;
              correct++;
              question.setAttribute("data-status", "correct");
            } else {
              score -= 0.25;
              wrong++;
              question.setAttribute("data-status", "wrong");
            }
          } else {
            unanswered++;
            question.setAttribute("data-status", "unanswered");
          }
        });

        const userID = sessionStorage.getItem("userID") || "anonymous";
        const formData = new FormData();
        formData.append("userID", userID);
        formData.append("finalScore", score.toFixed(2));
        formData.append("correctAnswers", correct);
        formData.append("wrongAnswers", wrong);
        formData.append("unanswered", unanswered);

        const url = "https://formspree.io/f/xpwy";
        navigator.sendBeacon(url, formData);
        console.log("Auto-submission sent via sendBeacon for userID:", userID);
      }

      function confirmSubmit() {
        console.log("Confirming submission");
        document.getElementById("confirmPopup").style.display = "none";
        stopTimer();
        let score = 0,
          total = questions.length,
          answered = 0,
          correct = 0,
          wrong = 0,
          unanswered = 0;

        document
          .querySelectorAll(".question-container")
          .forEach((question, index) => {
            let correctAnswer = question.getAttribute("data-correct");
            let selectedOption = question.querySelector(".option.selected");

            if (selectedOption) {
              answered++;
              let chosenAnswer = selectedOption.getAttribute("data-option");
              if (chosenAnswer === correctAnswer) {
                selectedOption
                  .querySelector(".option-text")
                  .classList.add("correct-text");
                score += 1;
                correct++;
                question.setAttribute("data-status", "correct");
              } else {
                selectedOption
                  .querySelector(".option-text")
                  .classList.add("incorrect-text");
                question
                  .querySelector(
                    `[data-option="${correctAnswer}"] .option-text`
                  )
                  .classList.add("correct-text");
                score -= 0.25;
                wrong++;
                question.setAttribute("data-status", "wrong");
              }
            } else {
              question
                .querySelector(`[data-option="${correctAnswer}"] .option-text`)
                .classList.add("unattempted-text");
              unanswered++;
              question.setAttribute("data-status", "unanswered");
            }
            question.style.display = "block";

            const explanationDropdown = question.querySelector(
              ".explanation-dropdown"
            );
            if (explanationDropdown) {
              explanationDropdown.classList.add("visible");
            }
          });

        const chartContainer = document.querySelector(".chart-container");
        chartContainer.classList.add("visible");
        if (!chartInstance) {
          initializeChart();
        }
        chartInstance.data.datasets[0].data = [correct, wrong, unanswered];
        chartInstance.update();
        console.log("Chart updated with data:", [correct, wrong, unanswered]);

        const userID = sessionStorage.getItem("userID") || "anonymous";
        document.getElementById("totalQuestions").innerText =
          toBengaliNumber(total);
        document.getElementById("answered").innerText =
          toBengaliNumber(answered);
        document.getElementById("correctAnswers").innerText =
          toBengaliNumber(correct);
        document.getElementById("wrongAnswers").innerText =
          toBengaliNumber(wrong);
        document.getElementById("unanswered").innerText =
          toBengaliNumber(unanswered);
        document.getElementById("finalScore").innerText = toBengaliNumber(
          score.toFixed(2)
        );

        document.getElementById("formUserID").value = userID;
        document.getElementById("formFinalScore").value = score.toFixed(2);
        document.getElementById("formCorrectAnswers").value = correct;
        document.getElementById("formWrongAnswers").value = wrong;
        document.getElementById("formUnanswered").value = unanswered;

        document.getElementById("submitBtn").style.display = "none";

        document.getElementById("scorePopup").style.display = "block";

        const form = document.getElementById("scoreForm");
        fetch(form.action, {
          method: "POST",
          body: new FormData(form),
          headers: {
            Accept: "application/json",
          },
        })
          .then((response) => {
            if (response.ok) {
              console.log("Form submitted successfully");
              form.reset();
            } else {
              console.error("Form submission failed:", response.statusText);
            }
          })
          .catch((error) => {
            console.error("Error:", error);
          });
      }

      function cancelSubmit() {
        console.log("Canceling submission");
        document.getElementById("confirmPopup").style.display = "none";
      }

      document
        .getElementById("submitBtn")
        .addEventListener("click", function () {
          console.log("Submit button clicked");
          showConfirmPopup();
        });

      function closePopup() {
        console.log("Closing score popup");
        const scorePopup = document.getElementById("scorePopup");
        scorePopup.classList.add("slide-out");
        setTimeout(() => {
          scorePopup.style.display = "none";
          scorePopup.classList.remove("slide-out");
          window.scrollTo({ top: 0, behavior: "smooth" });
        }, 500);
      }

      document
        .getElementById("scoreForm")
        .addEventListener("submit", function (event) {
          event.preventDefault();
          console.log("Score form submitted");
          closePopup();
        });
    </script>
  </body>
</html>
